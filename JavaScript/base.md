## 前端基础题


### 1、 0.1 + 0.2 = 0.30000000000000004 ?

JavaScript 中的数字遵循 IEEE 754 标准，使用 64 位表示数字。

![](https://lantiany-1254329693.cos.ap-chongqing.myqcloud.com/blog/20220531103325.png)

最高位为符号位，接下来的 11 位是 指数位，剩下 52 位是尾数。

在进行运算的过程之前需要进行 两步 操作：转换 & 对阶，首先需要将数字转换为二进制。

```html
0.1 -> 0.0001100110011001...(无限循环)
0.2 -> 0.0011001100110011...(无限循环)
```

转换之后两个数都是无限循环二进制小数。在这里产生了第一次精度损失。

转换之后还需要对小数进行对阶，对阶的目的是让小数的尾数能够进行运算。对阶过程中js引擎会对小数进行截断，这里产生了第二次精度损失。

在两次精度损失后，运算结果就成了我们看到的这样 `0.1 + 0.2 = 0.30000000000000004` .

为了解决这个问题，对于比较小的数据运算，我们可以将小数转换为整数进行计算，然后再缩小。对于大数的运算我们可以借助第三方库, 如 `math.js` `big.js`等。
